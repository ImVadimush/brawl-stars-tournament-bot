# maps.py
"""
–ú–æ–¥—É–ª—å —Å –∫–∞—Ä—Ç–∞–º–∏ –∏ —Ä–µ–∂–∏–º–∞–º–∏ –∏–≥—Ä—ã Brawl Stars
"""

import random
from typing import Dict, List

# –ö–∞—Ä—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã
GAME_MAPS = {
    "‚öΩ –ë—Ä–æ—É–±–æ–ª": [
        {
            "name": "–¢—Ä–∏–ø–ª-–¥—Ä–∏–±–ª–∏–Ω–≥",
            "image": "https://i.imgur.com/example1.jpg",
            "description": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ö–æ–¥–æ–º"
        },
        {
            "name": "–î–≤–æ—Ä–æ–≤—ã–π —á–µ–º–ø–∏–æ–Ω–∞—Ç", 
            "image": "https://i.imgur.com/example2.jpg",
            "description": "–£–∑–∫–∏–µ –ø—Ä–æ—Ö–æ–¥—ã –ø–æ –∫—Ä–∞—è–º –ø–æ–ª—è"
        },
        {
            "name": "–ó–ª–æ–≤—Ä–µ–¥–Ω—ã–µ –ø–æ–ª—è",
            "image": "https://i.imgur.com/example3.jpg", 
            "description": "–ü–ª—è–∂–Ω–∞—è —Ç–µ–º–∞ —Å –≤–æ–¥–Ω—ã–º–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏"
        },
        {
            "name": "–ü–∏–Ω–±–æ–ª",
            "image": "https://i.imgur.com/example4.jpg",
            "description": "–¢—Ä–∏ –ø—Ä–æ—Ö–æ–¥–∞ –∫ –≤–æ—Ä–æ—Ç–∞–º"
        },
        {
            "name": "–ó–∞–±–µ–≥ –ø–æ –∫—Ä—ã—à–∞–º",
            "image": "https://i.imgur.com/example5.jpg",
            "description": "–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç—Ä–∞–∂–∞—é—â–∏—Ö —Å—Ç–µ–Ω"
        }
    ],
    
    "üíé –ó–∞—Ö–≤–∞—Ç –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤": [
        {
            "name": "–†–æ–∫–æ–≤–∞—è —à–∞—Ö—Ç–∞",
            "image": "https://i.imgur.com/gem1.jpg",
            "description": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞"
        },
        {
            "name": "–ü–æ–≥–∞–Ω–∫–æ–≤–∞—è –∑–∞–ø–∞–¥–Ω—è", 
            "image": "https://i.imgur.com/gem2.jpg",
            "description": "–£–∑–∫–∏–µ –ø—Ä–æ—Ö–æ–¥—ã –≤ —à–∞—Ö—Ç–µ"
        },
        {
            "name": "–í–∂—É—Ö-–≤–∂—É—Ö",
            "image": "https://i.imgur.com/gem3.jpg",
            "description": "–ü–µ—â–µ—Ä–∞ —Å –∫—Ä–∏—Å—Ç–∞–ª–ª–∞–º–∏"
        },
        {
            "name": "–û—Ç–∫—Ä—ã—Ç–∞—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å",
            "image": "https://i.imgur.com/gem4.jpg", 
            "description": "–®–∞—Ö—Ç–µ—Ä—Å–∫–∏–µ –≤–∞–≥–æ–Ω–µ—Ç–∫–∏ –∫–∞–∫ —É–∫—Ä—ã—Ç–∏–µ"
        },
        {
            "name": "–ü–æ–¥—Ä—ã–≤",
            "image": "https://i.imgur.com/gem5.jpg",
            "description": "–ü–æ–¥–≤–æ–¥–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞"
        }
    ],
    
    "üéØ –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø–æ–∏–º–∫—É": [ 
        {
            "name": "–ë–µ–∑ –æ—Ç–≥–æ–≤–æ—Ä–æ–∫",
            "image": "https://i.imgur.com/bounty1.jpg",
            "description": "–û—Ç–∫—Ä—ã—Ç–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Å–Ω–∞–π–ø–µ—Ä–æ–≤"
        },
        {
            "name": "–ü–∞–¥–∞—é—â–∞—è –∑–≤–µ–∑–¥–∞",
            "image": "https://i.imgur.com/bounty2.jpg",
            "description": "–í–µ–Ω–µ—Ü–∏–∞–Ω—Å–∫–∏–µ –∫–∞–Ω–∞–ª—ã"
        },
        {
            "name": "–£–∫—Ä—ã—Ç–∏–µ", 
            "image": "https://i.imgur.com/bounty3.jpg",
            "description": "–ü—É—Å—Ç—ã–Ω–Ω–∞—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å"
        },
        {
            "name": "–ó–∞—Å—É—Ö–∞",
            "image": "https://i.imgur.com/bounty4.jpg",
            "description": "–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–∞—Ä—Ç–∞"
        },
        {
            "name": "–ö—Ä–µ–º–æ–≤—ã–π —Ç–æ—Ä—Ç",
            "image": "https://i.imgur.com/bounty5.jpg",
            "description": "–ì—É—Å—Ç–∞—è —Ç—Ä–∞–≤–∞ –ø–æ–≤—Å—é–¥—É"
        }
    ],
    
    "üî• –ì–æ—Ä—è—á–∞—è –∑–æ–Ω–∞": [
        {
            "name": "–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞",
            "image": "https://i.imgur.com/hotzone1.jpg",
            "description": "–î–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã"
        },
        {
            "name": "–ú—É—Ä–∞–≤—å–∏–Ω—ã–µ –±–µ–≥–∞",
            "image": "https://i.imgur.com/hotzone2.jpg", 
            "description": "–ö–æ–ª—å—Ü–µ–≤–∞—è –∑–æ–Ω–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ"
        },
        {
            "name": "–û–≥–Ω–µ–Ω–Ω–æ–µ –∫–æ–ª—å—Ü–æ",
            "image": "https://i.imgur.com/hotzone3.jpg",
            "description": "–î–≤–µ –∑–æ–Ω—ã –ø–æ –∫—Ä–∞—è–º"
        },
        {
            "name": "–ù–∞ –≥—Ä–∞–Ω–∏",
            "image": "https://i.imgur.com/hotzone4.jpg",
            "description": "–†–∞–∑–¥–µ–ª–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞"
        },
        {
            "name": "–û—Ç–∫—Ä—ã—Ç–æ!",
            "image": "https://i.imgur.com/hotzone5.jpg",
            "description": "–û—Ç–∫—Ä—ã—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ"
        }
    ],
    
    "üí• –û–¥–∏–Ω–æ—á–Ω–æ–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ (–®–î)": [ 
        {
            "name": "–û–º—É—Ç",
            "image": "https://i.imgur.com/showdown1.jpg",
            "description": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è"
        },
        {
            "name": "–ü—ã–ª–∞—é—â–∏–π —Ñ–µ–Ω–∏–∫—Å",
            "image": "https://i.imgur.com/showdown2.jpg",
            "description": "–ú–Ω–æ–≥–æ —Ç—Ä–∞–≤—ã –∏ —É–∫—Ä—ã—Ç–∏–π"
        },
        {
            "name": "–ñ–∏–≤–æ–ø–∏—Å–Ω—ã–π —É—Ç–µ—Å",
            "image": "https://i.imgur.com/showdown3.jpg",
            "description": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Å —è—â–∏–∫–∞–º–∏"
        },
        {
            "name": "–í —á–∏—Å—Ç–æ–º –ø–æ–ª–µ",
            "image": "https://i.imgur.com/showdown4.jpg",
            "description": "–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–¥–æ–µ–º–æ–≤"
        },
        {
            "name": "–ó–æ–≤ –≤–æ–¥—ã",
            "image": "https://i.imgur.com/showdown5.jpg",
            "description": "–û—Ç–∫—Ä—ã—Ç—ã–µ —Ä–∞–≤–Ω–∏–Ω—ã"
        }
    ],

    "üë¨ –î—É–æ-–®–î": [
        {
            "name": "–î–≤–æ–π–Ω–æ–π –±–µ—Å–ø—Ä–µ–¥–µ–ª",
            "image": "https://i.imgur.com/duoshowdown1.jpg",
            "description": "–ö–∞—Ä—Ç–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π –∏–≥—Ä—ã"
        },
        {
            "name": "–ü–µ—â–µ—Ä—ã —Ç–µ–º–Ω–æ—Ç—ã",
            "image": "https://i.imgur.com/duoshowdown2.jpg",
            "description": "–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É–∫—Ä—ã—Ç–∏–π –¥–ª—è –¥—É—ç—Ç–æ–≤"
        },
        {
            "name": "–ó–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥",
            "image": "https://i.imgur.com/duoshowdown3.jpg",
            "description": "–ì–æ—Ä–æ–¥—Å–∫–∞—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å"
        },
        {
            "name": "–õ–µ—Å–Ω—ã–µ –¥–µ–±—Ä–∏",
            "image": "https://i.imgur.com/duoshowdown4.jpg",
            "description": "–ì—É—Å—Ç–æ–π –ª–µ—Å —Å –∑–∞—Å–∞–¥–∞–º–∏"
        },
        {
            "name": "–ê—Ä–µ–Ω–∞ —á–µ–º–ø–∏–æ–Ω–æ–≤",
            "image": "https://i.imgur.com/duoshowdown5.jpg",
            "description": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∞—Ä–µ–Ω–∞ –¥–ª—è –±–æ–µ–≤"
        }
    ],

    "üí• –ù–æ–∫–∞—É—Ç": [ 
        {
            "name": "–û–±–µ–∑–≤—Ä–µ–∂–∏–≤–∞–Ω–∏–µ",
            "image": "https://i.imgur.com/knockout1.jpg",
            "description": "–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –±–æ–µ–≤"
        },
        {
            "name": "–®–∏–ø-–ª–∞–±–∏—Ä–∏–Ω—Ç",
            "image": "https://i.imgur.com/knockout2.jpg",
            "description": "–õ–∞–±–∏—Ä–∏–Ω—Ç —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ–≤–æ—Ä–æ—Ç–æ–≤"
        },
        {
            "name": "–ó–æ–ª–æ—Ç–∞—è —Ä—É–∫–∞",
            "image": "https://i.imgur.com/knockout3.jpg",
            "description": "–û—Ç–∫—Ä—ã—Ç–∞—è –∫–∞—Ä—Ç–∞ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —É–∫—Ä—ã—Ç–∏–µ–º"
        },
        {
            "name": "–°–∫–ª–µ–ø",
            "image": "https://i.imgur.com/knockout4.jpg",
            "description": "–¢–µ–º–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å —É–∑–∫–∏–º–∏ –ø—Ä–æ—Ö–æ–¥–∞–º–∏"
        },
        {
            "name": "–ò–∑—É–º—Ä—É–¥–Ω—ã–µ —Ä–∞–≤–Ω–∏–Ω—ã",
            "image": "https://i.imgur.com/knockout5.jpg",
            "description": "–ó–µ–ª–µ–Ω—ã–µ –ø–æ–ª—è —Å —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏"
        }
    ]
}

class MapManager:
    """–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∞–º–∏ –∏ —Ä–µ–∂–∏–º–∞–º–∏"""
    
    def __init__(self):
        self.maps = GAME_MAPS
    
    def get_random_map(self, game_mode: str) -> Dict:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞"""
        if game_mode in self.maps:
            return random.choice(self.maps[game_mode])
        return {}
    
    def get_random_maps_for_modes(self, game_modes: List[str]) -> Dict[str, Dict]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ä–µ–∂–∏–º–æ–≤"""
        selected_maps = {}
        for mode in game_modes:
            selected_maps[mode] = self.get_random_map(mode)
        return selected_maps
    
    def get_all_modes_for_format(self, format_type: str) -> List[str]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞"""
        from config import GAME_MODES
        return GAME_MODES.get(format_type, [])
    
    def get_maps_for_mode(self, game_mode: str) -> List[Dict]:
        """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ä—Ç—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞"""
        return self.maps.get(game_mode, [])
    
    def format_map_info(self, game_mode: str, map_data: Dict) -> str:
        """–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–µ"""
        if not map_data:
            return f"üìç **–†–µ–∂–∏–º:** {game_mode}\nüó∫Ô∏è **–ö–∞—Ä—Ç–∞:** –ù–µ –≤—ã–±—Ä–∞–Ω–∞"
        
        return f"""üìç **–†–µ–∂–∏–º:** {game_mode}
üó∫Ô∏è **–ö–∞—Ä—Ç–∞:** {map_data['name']}
üìù {map_data['description']}"""
    
    def format_selected_maps(self, selected_maps: Dict[str, Dict]) -> str:
        """–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∞—Ö"""
        if not selected_maps:
            return "üó∫Ô∏è –ö–∞—Ä—Ç—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã"
        
        formatted_maps = []
        for mode, map_data in selected_maps.items():
            formatted_maps.append(self.format_map_info(mode, map_data))
        
        return "\n\n".join(formatted_maps)
    
    def get_mode_emoji(self, game_mode: str) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —ç–º–æ–¥–∑–∏ –¥–ª—è —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã"""
        emoji_map = {
            "‚öΩ –ë—Ä–æ—É–±–æ–ª": "‚öΩ",
            "üíé –ó–∞—Ö–≤–∞—Ç –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤": "üíé", 
            "üéØ –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø–æ–∏–º–∫—É": "üéØ",
            "üî• –ì–æ—Ä—è—á–∞—è –∑–æ–Ω–∞": "üî•",
            "üí• –û–¥–∏–Ω–æ—á–Ω–æ–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ (–®–î)": "üí•",
            "üë¨ –î—É–æ-–®–î": "üë¨",
            "üí• –ù–æ–∫–∞—É—Ç": "üí•"
        }
        return emoji_map.get(game_mode, "üéÆ")

# –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∫–∞—Ä—Ç
map_manager = MapManager()